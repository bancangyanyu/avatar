(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mannage/update/update"],{"1ae0":function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var a={cuBar:function(){return e.e("components/cu-bar/cu-bar").then(e.bind(null,"95a1"))},cuInput:function(){return Promise.resolve().then(e.bind(null,"6c20"))},cuButton:function(){return e.e("components/cu-button/cu-button").then(e.bind(null,"5537"))}},r=function(){var t=this,n=t.$createElement;t._self._c},o=[]},2052:function(t,n,e){"use strict";var a;e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var r=function(){var t=this,n=t.$createElement;t._self._c},o=[]},"2f6b":function(t,n,e){"use strict";(function(t){e("fbbb");a(e("66fd"));var n=a(e("8b25"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},3860:function(t,n,e){"use strict";var a=e("52a0"),r=e.n(a);r.a},"52a0":function(t,n,e){},"6c20":function(t,n,e){"use strict";e.r(n);var a=e("2052"),r=e("d3fd");for(var o in r)"default"!==o&&function(t){e.d(n,t,(function(){return r[t]}))}(o);var u,c=e("f0c5"),i=Object(c["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],u);n["default"]=i.exports},"74e1":function(t,n,e){"use strict";(function(t,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("a34a"));o(e("6c20"));function o(t){return t&&t.__esModule?t:{default:t}}function u(t,n){return s(t)||f(t,n)||i(t,n)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,n){if(t){if("string"===typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,n):void 0}}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,a=new Array(n);e<n;e++)a[e]=t[e];return a}function f(t,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],a=!0,r=!1,o=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)if(e.push(u.value),n&&e.length===n)break}catch(i){r=!0,o=i}finally{try{a||null==c["return"]||c["return"]()}finally{if(r)throw o}}return e}}function s(t){if(Array.isArray(t))return t}function d(t,n,e,a,r,o,u){try{var c=t[o](u),i=c.value}catch(l){return void e(l)}c.done?n(i):Promise.resolve(i).then(a,r)}function v(t){return function(){var n=this,e=arguments;return new Promise((function(a,r){var o=t.apply(n,e);function u(t){d(o,a,r,u,c,"next",t)}function c(t){d(o,a,r,u,c,"throw",t)}u(void 0)}))}}var h=function(){e.e("components/cu-bar/cu-bar").then(function(){return resolve(e("95a1"))}.bind(null,e)).catch(e.oe)},p=function(){e.e("components/cu-picker/index").then(function(){return resolve(e("3026"))}.bind(null,e)).catch(e.oe)},m=function(){e.e("components/cu-form/form-item").then(function(){return resolve(e("8764"))}.bind(null,e)).catch(e.oe)},b={name:"UpdateMannage",components:{formItem:m,cuPicker:p,cuBar:h},data:function(){return{formData:{page_url:"",avatar_url:"",photo_url:"",type:0},avatarListData:[],avatarList:[1],TypeData:["国庆","圣诞","新年","中秋","情人节","国风"]}},onLoad:function(t){console.log(t);var n=t.type,e=void 0===n?"":n;this.formData.type=parseInt(e),e&&this.handelGetPageUrl(parseInt(e))},methods:{handelGetPageUrl:function(n){var e=this;return v(r.default.mark((function o(){var c,i,l,f,s,d,v;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.showLoading({title:"加载中..."}),r.next=3,a.callFunction({name:"page-url-query",data:{type:n}}).catch((function(n){t.hideLoading(),t.showModal({content:"查询失败，错误信息为：".concat(n.message),showCancel:!1}),console.error(n)}));case 3:c=r.sent,i=c.result.data,l=u(i,1),f=l[0],s=f.photo_url,d=s.split("*"),v=d.map((function(t){return{value:t}})),e.avatarList=v,console.log("请求的接口",f),e.formData.avatar_url=f.avatar_url,e.formData.page_url=f.page_url,e.formData.id=f._id||"",console.log("查询的数据",v),t.hideLoading();case 16:case"end":return r.stop()}}),o)})))()},onPickerChange:function(){},handleAdd:function(){this.avatarList.push({value:""})},handleClear:function(t){t>0&&this.avatarList.splice(t,1)},handleSubmit:function(){var n=this;t.showLoading({title:"处理中..."});var e=this.formData,r=void 0===e?{}:e,o=this.avatarList,u=void 0===o?[]:o,c=u.map((function(t){return item.value}));r.photo_url=c.join("*"),a.callFunction({name:"page-url-update",data:r}).then((function(e){t.hideLoading();var a={page_url:"",avatar_url:"",photo_url:"",type:0};t.showModal({content:"添加数据为：".concat(JSON.stringify(e)),showCancel:!1}),n.formData=a,n.avatarList=[],console.log(e)})).catch((function(n){t.hideLoading(),t.showModal({content:"添加数据失败，错误信息为：".concat(n.message),showCancel:!1}),console.error(n)}))}}};n.default=b}).call(this,e("543d")["default"],e("a9ff")["default"])},"8b25":function(t,n,e){"use strict";e.r(n);var a=e("1ae0"),r=e("9e8c");for(var o in r)"default"!==o&&function(t){e.d(n,t,(function(){return r[t]}))}(o);e("3860");var u,c=e("f0c5"),i=Object(c["a"])(r["default"],a["b"],a["c"],!1,null,"64fd942b",null,!1,a["a"],u);n["default"]=i.exports},"9e8c":function(t,n,e){"use strict";e.r(n);var a=e("74e1"),r=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=r.a},d3fd:function(t,n,e){"use strict";e.r(n);var a=e("d658"),r=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=r.a},d658:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={name:"CuInput",model:{prop:"value",event:"change"},props:{value:{type:[String,Number],default:""}},data:function(){return{}},methods:{handleChange:function(t){var n=t.target.value;this.value=n,console.log("input",n),this.$emit("change",this.value)}}};n.default=a}},[["2f6b","common/runtime","common/vendor"]]]);