(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mannage/update/update"],{"0cfd":function(t,n,e){"use strict";(function(t,n){var a=e("47a9");e("94bc"),e("861b");a(e("3240"));var u=a(e("7ad9"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(u.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])},"23f8":function(t,n,e){},"36f1":function(t,n,e){"use strict";e.r(n);var a=e("72f0"),u=e("550d");for(var o in u)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return u[t]}))}(o);var r=e("828b"),c=Object(r["a"])(u["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);n["default"]=c.exports},"3fcb":function(t,n,e){"use strict";var a=e("23f8"),u=e.n(a);u.a},"514a":function(t,n,e){"use strict";e.r(n);var a=e("6d9c"),u=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=u.a},"550d":function(t,n,e){"use strict";e.r(n);var a=e("cc4c"),u=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=u.a},"6d9c":function(t,n,e){"use strict";(function(t,a){var u=e("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=u(e("7eb4")),r=u(e("34cf")),c=u(e("ee10")),i=(u(e("36f1")),{name:"UpdateMannage",components:{formItem:function(){e.e("components/cu-form/form-item").then(function(){return resolve(e("67bb"))}.bind(null,e)).catch(e.oe)},cuPicker:function(){e.e("components/cu-picker/index").then(function(){return resolve(e("b785"))}.bind(null,e)).catch(e.oe)},cuBar:function(){e.e("components/cu-bar/cu-bar").then(function(){return resolve(e("9eb8"))}.bind(null,e)).catch(e.oe)}},data:function(){return{formData:{page_url:"",avatar_url:"",photo_url:"",type:0},avatarListData:[],avatarList:[1],TypeData:["国庆","圣诞","新年","中秋","情人节","国风"]}},onLoad:function(t){console.log(t);var n=t.type,e=void 0===n?"":n;this.formData.type=parseInt(e),e&&this.handelGetPageUrl(parseInt(e))},methods:{handelGetPageUrl:function(n){var e=this;return(0,c.default)(o.default.mark((function u(){var c,i,l,f,d,s,h;return o.default.wrap((function(u){while(1)switch(u.prev=u.next){case 0:return t.showLoading({title:"加载中..."}),u.next=3,a.callFunction({name:"page-url-query",data:{type:n}}).catch((function(n){t.hideLoading(),t.showModal({content:"查询失败，错误信息为：".concat(n.message),showCancel:!1}),console.error(n)}));case 3:c=u.sent,i=c.result.data,l=(0,r.default)(i,1),f=l[0],d=f.photo_url,s=d.split("*"),h=s.map((function(t){return{value:t}})),e.avatarList=h,console.log("请求的接口",f),e.formData.avatar_url=f.avatar_url,e.formData.page_url=f.page_url,e.formData.id=f._id||"",console.log("查询的数据",h),t.hideLoading();case 16:case"end":return u.stop()}}),u)})))()},onPickerChange:function(){},handleAdd:function(){this.avatarList.push({value:""})},handleClear:function(t){t>0&&this.avatarList.splice(t,1)},handleSubmit:function(){var n=this;t.showLoading({title:"处理中..."});var e=this.formData,u=void 0===e?{}:e,o=this.avatarList,r=void 0===o?[]:o,c=r.map((function(t){return item.value}));u.photo_url=c.join("*"),a.callFunction({name:"page-url-update",data:u}).then((function(e){t.hideLoading();t.showModal({content:"添加数据为：".concat(JSON.stringify(e)),showCancel:!1}),n.formData={page_url:"",avatar_url:"",photo_url:"",type:0},n.avatarList=[],console.log(e)})).catch((function(n){t.hideLoading(),t.showModal({content:"添加数据失败，错误信息为：".concat(n.message),showCancel:!1}),console.error(n)}))}}});n.default=i}).call(this,e("df3c")["default"],e("861b")["uniCloud"])},"72f0":function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return u})),e.d(n,"a",(function(){}));var a=function(){var t=this.$createElement;this._self._c},u=[]},"7ad9":function(t,n,e){"use strict";e.r(n);var a=e("9da2"),u=e("514a");for(var o in u)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return u[t]}))}(o);e("3fcb");var r=e("828b"),c=Object(r["a"])(u["default"],a["b"],a["c"],!1,null,"08ae214a",null,!1,a["a"],void 0);n["default"]=c.exports},"9da2":function(t,n,e){"use strict";e.d(n,"b",(function(){return u})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var a={cuBar:function(){return e.e("components/cu-bar/cu-bar").then(e.bind(null,"9eb8"))},cuInput:function(){return Promise.resolve().then(e.bind(null,"36f1"))},cuButton:function(){return e.e("components/cu-button/cu-button").then(e.bind(null,"3858"))}},u=function(){var t=this.$createElement;this._self._c},o=[]},cc4c:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={name:"CuInput",model:{prop:"value",event:"change"},props:{value:{type:[String,Number],default:""}},data:function(){return{}},methods:{handleChange:function(t){var n=t.target.value;this.value=n,console.log("input",n),this.$emit("change",this.value)}}};n.default=a}},[["0cfd","common/runtime","common/vendor"]]]);