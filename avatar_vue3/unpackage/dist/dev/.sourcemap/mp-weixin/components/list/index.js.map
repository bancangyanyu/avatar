{"version":3,"file":"index.js","sources":["components/list/index.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovR0lUX1dPUksvbGVhcm4vYXZhdGFyX3Z1ZTMvY29tcG9uZW50cy9saXN0L2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"img-list\">\r\n\t\t<view class=\"waterfalls-box\" >\r\n\t\t\t<image v-for=\"(item, index) in list\" class=\"waterfalls-list-image\" mode=\"aspectFill\" \r\n\t\t\t\t:src=\"item[imageSrcKey] || ' '\" :key=\"item[idKey]\" :id=\"'waterfalls-list-id-' + item[idKey]\"\r\n\t\t\t\t@click=\"handleClick(item,index)\" :style=\"{ height: height}\">\r\n\t\t\t</image>\r\n\t\t</view> \r\n\t</view> \r\n</template>\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tdefineProps,\r\n\t\tonMounted\r\n\t} from 'vue'\r\n\tconst $emit = defineEmits('click')\r\n\tconst porps = defineProps({\r\n\t\tlist: {\r\n\t\t\ttype: Array,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\t// 列表渲染的 key 的键名，值必须唯一，默认为 id\r\n\t\tidKey: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '_id'\r\n\t\t},\r\n\t\t// 图片 src 的键名\r\n\t\timageSrcKey: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'img_url'\r\n\t\t},\r\n\t\timgType:{\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'img'\r\n\t\t},\r\n\t\theight:{\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '300rpx' \r\n\t\t}\r\n\t})\r\n\tconst navigate = (url) => {\r\n\t\tconst pages = getCurrentPages(); // 获取当前页面栈\r\n\t\tconst currentLevel = pages.length; // 当前页面层级\r\n\r\n\t\tif (currentLevel >= 2) {\r\n\t\t\t// 如果当前层级超过 2 层，使用 redirectTo 替代 navigateTo\r\n\t\t\tuni.redirectTo({\r\n\t\t\t\turl: url\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t// 如果当前层级小于 2 层，正常使用 navigateTo\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: url\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tconst handleClick = (item, index) => {\r\n\r\n\t\t$emit('click', item)\r\n\t\tconsole.log(\"预览\", [item, index]);\r\n\t\tconst {\r\n\t\t\timg_url,\r\n\t\t\timg_id\r\n\t\t} = item\r\n\t\tconst data = JSON.stringify(item)\r\n\t\tif(porps.imgType==='bg'){\r\n\t\t\tnavigate(`/pages/bg/bgView?item=${data}`)\r\n\t\t\treturn\r\n\t\t}else{\r\n\t\t\tnavigate(`/pages/avatar/avatarView?item=${data}`)\r\n\t\t}\r\n\t\t// handlePreview(index) \r\n\t}\r\n\tconst handlePreview = (idx) => {\r\n\t\tconst list = porps.list.map(item => item[porps.imageSrcKey])\r\n\t\t// list：图片 url 数组\r\n\t\tif (list && list.length > 0) {\r\n\t\t\tuni.previewImage({\r\n\t\t\t\tcurrent: list[idx], //  传 Number H5端出现不兼容 \r\n\t\t\t\turls: list\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t// 这里可以自行配置\r\n\t$border-radius: 24rpx;\r\n\r\n\t.img-list {\r\n\t\tpadding: 30rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.waterfalls-box {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t\talign-content: flex-start;\r\n\t\tgap: 30rpx;\r\n\t\twidth: 100%;\r\n\r\n\t\t.waterfalls-list-image {\r\n\t\t\twidth: 47.5%;\r\n\t\t\twill-change: transform;\r\n\t\t\tdisplay: block; \r\n\t\t\tborder-radius: $border-radius;\r\n\r\n\t\t\t&.single {\r\n\t\t\t\tborder-radius: $border-radius;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import Component from 'D:/GIT_WORK/learn/avatar_vue3/components/list/index.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBC,UAAM,QAAQ;AACd,UAAM,QAAQ;AAwBd,UAAM,WAAW,CAAC,QAAQ;AACzB,YAAM,QAAQ;AACd,YAAM,eAAe,MAAM;AAE3B,UAAI,gBAAgB,GAAG;AAEtBA,sBAAAA,MAAI,WAAW;AAAA,UACd;AAAA,QACJ,CAAI;AAAA,MACJ,OAAS;AAENA,sBAAAA,MAAI,WAAW;AAAA,UACd;AAAA,QACJ,CAAI;AAAA,MACD;AAAA,IACD;AACD,UAAM,cAAc,CAAC,MAAM,UAAU;AAEpC,YAAM,SAAS,IAAI;AACnBA,0EAAY,MAAM,CAAC,MAAM,KAAK,CAAC;AAK/B,YAAM,OAAO,KAAK,UAAU,IAAI;AAChC,UAAG,MAAM,YAAU,MAAK;AACvB,iBAAS,yBAAyB,IAAI,EAAE;AACxC;AAAA,MACH,OAAO;AACJ,iBAAS,iCAAiC,IAAI,EAAE;AAAA,MAChD;AAAA,IAED;;;;;;;;;;;;;;;;;ACxEF,GAAG,gBAAgB,SAAS;"}