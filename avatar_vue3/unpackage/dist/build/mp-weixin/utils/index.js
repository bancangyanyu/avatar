"use strict";const e=require("../common/vendor.js");exports.getCache=function(n){const t=e.index.getStorageSync(n);return t&&t.expireTime>Date.now()?t.value:(e.index.removeStorage({key:n,success:function(){console.log("缓存已过期，已移除")}}),null)},exports.setCache=function(n,t,o=86400){const c=Date.now()+1e3*o;e.index.setStorage({key:n,data:{value:t,expireTime:c},success:function(){console.log("缓存设置成功")}})},exports.setupAppUpdateListener=()=>{let n=null;e.wx$1.getUpdateManager&&(n=e.wx$1.getUpdateManager(),n.onCheckForUpdate((function(e){})),n.onUpdateReady((function(){e.wx$1.showModal({title:"更新提示",content:"新版本已经准备好，是否重启应用？",confirmText:"重 启",showCancel:!1,success:function(e){e.confirm&&n.applyUpdate()}})})),n.onUpdateFailed((function(){console.error("新的版本下载失败！")})))};
